(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Ee,M,rr,or,Et,vn,ir,sr,cr,sn,je,ze,Ft={},ar=[],io=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Se=Array.isArray;function _t(t,e){for(var n in e)t[n]=e[n];return t}function cn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function so(t,e,n){var r,o,i,s={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?Ee.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]==null&&(s[i]=t.defaultProps[i]);return ce(t,s,r,o,null)}function ce(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++rr,__i:-1,__u:0};return o==null&&M.vnode!=null&&M.vnode(i),i}function Xt(t){return t.children}function jt(t,e){this.props=t,this.context=e}function Ot(t,e){if(e==null)return t.__?Ot(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ot(t):null}function fr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return fr(t)}}function bn(t){(!t.__d&&(t.__d=!0)&&Et.push(t)&&!he.__r++||vn!=M.debounceRendering)&&((vn=M.debounceRendering)||ir)(he)}function he(){for(var t,e,n,r,o,i,s,f=1;Et.length;)Et.length>f&&Et.sort(sr),t=Et.shift(),f=Et.length,t.__d&&(n=void 0,o=(r=(e=t).__v).__e,i=[],s=[],e.__P&&((n=_t({},r)).__v=r.__v+1,M.vnode&&M.vnode(n),an(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,i,o??Ot(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,dr(i,n,s),n.__e!=o&&fr(n)));he.__r=0}function ur(t,e,n,r,o,i,s,f,a,u,p){var c,l,d,B,b,_,m=r&&r.__k||ar,E=e.length;for(a=co(n,e,m,a,E),c=0;c<E;c++)(d=n.__k[c])!=null&&(l=d.__i==-1?Ft:m[d.__i]||Ft,d.__i=c,_=an(t,d,l,o,i,s,f,a,u,p),B=d.__e,d.ref&&l.ref!=d.ref&&(l.ref&&fn(l.ref,null,d),p.push(d.ref,d.__c||B,d)),b==null&&B!=null&&(b=B),4&d.__u||l.__k===d.__k?a=lr(d,a,t):typeof d.type=="function"&&_!==void 0?a=_:B&&(a=B.nextSibling),d.__u&=-7);return n.__e=b,a}function co(t,e,n,r,o){var i,s,f,a,u,p=n.length,c=p,l=0;for(t.__k=new Array(o),i=0;i<o;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(a=i+l,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ce(null,s,null,null,null):Se(s)?ce(Xt,{children:s},null,null,null):s.constructor==null&&s.__b>0?ce(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,f=null,(u=s.__i=ao(s,n,a,c))!=-1&&(c--,(f=n[u])&&(f.__u|=2)),f==null||f.__v==null?(u==-1&&(o>p?l--:o<p&&l++),typeof s.type!="function"&&(s.__u|=4)):u!=a&&(u==a-1?l--:u==a+1?l++:(u>a?l--:l++,s.__u|=4))):t.__k[i]=null;if(c)for(i=0;i<p;i++)(f=n[i])!=null&&(2&f.__u)==0&&(f.__e==r&&(r=Ot(f)),_r(f,f));return r}function lr(t,e,n){var r,o;if(typeof t.type=="function"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=lr(r[o],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Ot(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ao(t,e,n,r){var o,i,s=t.key,f=t.type,a=e[n];if(a===null&&t.key==null||a&&s==a.key&&f==a.type&&(2&a.__u)==0)return n;if(r>(a!=null&&(2&a.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<e.length;){if(o>=0){if((a=e[o])&&(2&a.__u)==0&&s==a.key&&f==a.type)return o;o--}if(i<e.length){if((a=e[i])&&(2&a.__u)==0&&s==a.key&&f==a.type)return i;i++}}return-1}function xn(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||io.test(e)?n:n+"px"}function ne(t,e,n,r,o){var i;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||xn(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||xn(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(cr,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=sn,t.addEventListener(e,i?ze:je,i)):t.removeEventListener(e,i?ze:je,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function En(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=sn++;else if(e.t<n.u)return;return n(M.event?M.event(e):e)}}}function an(t,e,n,r,o,i,s,f,a,u){var p,c,l,d,B,b,_,m,E,A,P,U,N,T,$,k,D,O=e.type;if(e.constructor!=null)return null;128&n.__u&&(a=!!(32&n.__u),i=[f=e.__e=n.__e]),(p=M.__b)&&p(e);t:if(typeof O=="function")try{if(m=e.props,E="prototype"in O&&O.prototype.render,A=(p=O.contextType)&&r[p.__c],P=p?A?A.props.value:p.__:r,n.__c?_=(c=e.__c=n.__c).__=c.__E:(E?e.__c=c=new O(m,P):(e.__c=c=new jt(m,P),c.constructor=O,c.render=uo),A&&A.sub(c),c.props=m,c.state||(c.state={}),c.context=P,c.__n=r,l=c.__d=!0,c.__h=[],c._sb=[]),E&&c.__s==null&&(c.__s=c.state),E&&O.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=_t({},c.__s)),_t(c.__s,O.getDerivedStateFromProps(m,c.__s))),d=c.props,B=c.state,c.__v=e,l)E&&O.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),E&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(E&&O.getDerivedStateFromProps==null&&m!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,P),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,P)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(h){h&&(h.__=e)}),U=0;U<c._sb.length;U++)c.__h.push(c._sb[U]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,P),E&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,B,b)})}if(c.context=P,c.props=m,c.__P=t,c.__e=!1,N=M.__r,T=0,E){for(c.state=c.__s,c.__d=!1,N&&N(e),p=c.render(c.props,c.state,c.context),$=0;$<c._sb.length;$++)c.__h.push(c._sb[$]);c._sb=[]}else do c.__d=!1,N&&N(e),p=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++T<25);c.state=c.__s,c.getChildContext!=null&&(r=_t(_t({},r),c.getChildContext())),E&&!l&&c.getSnapshotBeforeUpdate!=null&&(b=c.getSnapshotBeforeUpdate(d,B)),k=p,p!=null&&p.type===Xt&&p.key==null&&(k=hr(p.props.children)),f=ur(t,Se(k)?k:[k],e,n,r,o,i,s,f,a,u),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),_&&(c.__E=c.__=null)}catch(h){if(e.__v=null,a||i!=null)if(h.then){for(e.__u|=a?160:128;f&&f.nodeType==8&&f.nextSibling;)f=f.nextSibling;i[i.indexOf(f)]=null,e.__e=f}else for(D=i.length;D--;)cn(i[D]);else e.__e=n.__e,e.__k=n.__k;M.__e(h,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):f=e.__e=fo(n.__e,e,n,r,o,i,s,a,u);return(p=M.diffed)&&p(e),128&e.__u?void 0:f}function dr(t,e,n){for(var r=0;r<n.length;r++)fn(n[r],n[++r],n[++r]);M.__c&&M.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){M.__e(i,o.__v)}})}function hr(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Se(t)?t.map(hr):_t({},t)}function fo(t,e,n,r,o,i,s,f,a){var u,p,c,l,d,B,b,_=n.props,m=e.props,E=e.type;if(E=="svg"?o="http://www.w3.org/2000/svg":E=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((d=i[u])&&"setAttribute"in d==!!E&&(E?d.localName==E:d.nodeType==3)){t=d,i[u]=null;break}}if(t==null){if(E==null)return document.createTextNode(m);t=document.createElementNS(o,E,m.is&&m),f&&(M.__m&&M.__m(e,i),f=!1),i=null}if(E==null)_===m||f&&t.data==m||(t.data=m);else{if(i=i&&Ee.call(t.childNodes),_=n.props||Ft,!f&&i!=null)for(_={},u=0;u<t.attributes.length;u++)_[(d=t.attributes[u]).name]=d.value;for(u in _)if(d=_[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=d;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;ne(t,u,null,d,o)}}for(u in m)d=m[u],u=="children"?l=d:u=="dangerouslySetInnerHTML"?p=d:u=="value"?B=d:u=="checked"?b=d:f&&typeof d!="function"||_[u]===d||ne(t,u,d,_[u],o);if(p)f||c&&(p.__html==c.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(c&&(t.innerHTML=""),ur(e.type=="template"?t.content:t,Se(l)?l:[l],e,n,r,E=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&Ot(n,0),f,a),i!=null)for(u=i.length;u--;)cn(i[u]);f||(u="value",E=="progress"&&B==null?t.removeAttribute("value"):B!=null&&(B!==t[u]||E=="progress"&&!B||E=="option"&&B!=_[u])&&ne(t,u,B,_[u],o),u="checked",b!=null&&b!=t[u]&&ne(t,u,b,_[u],o))}return t}function fn(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){M.__e(o,n)}}function _r(t,e,n){var r,o;if(M.unmount&&M.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||fn(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){M.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&_r(r[o],e,n||typeof t.type!="function");n||cn(t.__e),t.__c=t.__=t.__e=void 0}function uo(t,e,n){return this.constructor(t,n)}function lo(t,e,n){var r,o,i,s;e==document&&(e=document.documentElement),M.__&&M.__(t,e),o=(r=!1)?null:e.__k,i=[],s=[],an(e,t=e.__k=so(Xt,null,[t]),o||Ft,Ft,e.namespaceURI,o?null:e.firstChild?Ee.call(e.childNodes):null,i,o?o.__e:e.firstChild,r,s),dr(i,t,s)}Ee=ar.slice,M={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(f){t=f}throw t}},rr=0,or=function(t){return t!=null&&t.constructor==null},jt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=_t({},this.state),typeof t=="function"&&(t=t(_t({},n),this.props)),t&&_t(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),bn(this))},jt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),bn(this))},jt.prototype.render=Xt,Et=[],ir=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sr=function(t,e){return t.__v.__b-e.__v.__b},he.__r=0,cr=/(PointerCapture)$|Capture$/i,sn=0,je=En(!1),ze=En(!0);var ho=0;function W(t,e,n,r,o,i){e||(e={});var s,f,a=e;if("ref"in a)for(f in a={},e)f=="ref"?s=e[f]:a[f]=e[f];var u={type:t,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ho,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(f in s)a[f]===void 0&&(a[f]=s[f]);return M.vnode&&M.vnode(u),u}var Fe,ot,Ne,Sn,Bn=0,pr=[],J=M,An=J.__b,kn=J.__r,Tn=J.diffed,Pn=J.__c,Nn=J.unmount,$n=J.__;function _o(t,e){J.__h&&J.__h(ot,t,Bn||e),Bn=0;var n=ot.__H||(ot.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function yr(t,e){var n=_o(Fe++,7);return go(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function po(){for(var t;t=pr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ae),t.__H.__h.forEach(Ve),t.__H.__h=[]}catch(e){t.__H.__h=[],J.__e(e,t.__v)}}J.__b=function(t){ot=null,An&&An(t)},J.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),$n&&$n(t,e)},J.__r=function(t){kn&&kn(t),Fe=0;var e=(ot=t.__c).__H;e&&(Ne===ot?(e.__h=[],ot.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(ae),e.__h.forEach(Ve),e.__h=[],Fe=0)),Ne=ot},J.diffed=function(t){Tn&&Tn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(pr.push(e)!==1&&Sn===J.requestAnimationFrame||((Sn=J.requestAnimationFrame)||yo)(po)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ne=ot=null},J.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ae),n.__h=n.__h.filter(function(r){return!r.__||Ve(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],J.__e(r,n.__v)}}),Pn&&Pn(t,e)},J.unmount=function(t){Nn&&Nn(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ae(r)}catch(o){e=o}}),n.__H=void 0,e&&J.__e(e,n.__v))};var Ln=typeof requestAnimationFrame=="function";function yo(t){var e,n=function(){clearTimeout(r),Ln&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Ln&&(e=requestAnimationFrame(n))}function ae(t){var e=ot,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ot=e}function Ve(t){var e=ot;t.__c=t.__(),ot=e}function go(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}var wo=Symbol.for("preact-signals");function Be(){if(mt>1)mt--;else{for(var t,e=!1;zt!==void 0;){var n=zt;for(zt=void 0,Ze++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&wr(n))try{n.c()}catch(o){e||(t=o,e=!0)}n=r}}if(Ze=0,mt--,e)throw t}}function mo(t){if(mt>0)return t();mt++;try{return t()}finally{Be()}}var R=void 0,zt=void 0,mt=0,Ze=0,_e=0;function gr(t){if(R!==void 0){var e=t.n;if(e===void 0||e.t!==R)return e={i:0,S:t,p:R.s,n:void 0,t:R,e:void 0,x:void 0,r:e},R.s!==void 0&&(R.s.n=e),R.s=e,t.n=e,32&R.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=R.s,e.n=void 0,R.s.n=e,R.s=e),e}}function nt(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}nt.prototype.brand=wo;nt.prototype.h=function(){return!0};nt.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};nt.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};nt.prototype.subscribe=function(t){var e=this;return te(function(){var n=e.value,r=R;R=void 0;try{t(n)}finally{R=r}})};nt.prototype.valueOf=function(){return this.value};nt.prototype.toString=function(){return this.value+""};nt.prototype.toJSON=function(){return this.value};nt.prototype.peek=function(){var t=R;R=void 0;try{return this.value}finally{R=t}};Object.defineProperty(nt.prototype,"value",{get:function(){var t=gr(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(Ze>100)throw new Error("Cycle detected");this.v=t,this.i++,_e++,mt++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Be()}}}});function Ae(t){return new nt(t)}function wr(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function mr(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function vr(t){for(var e=t.s,n=void 0;e!==void 0;){var r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}t.s=n}function qt(t){nt.call(this,void 0),this.x=t,this.s=void 0,this.g=_e-1,this.f=4}(qt.prototype=new nt).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===_e))return!0;if(this.g=_e,this.f|=1,this.i>0&&!wr(this))return this.f&=-2,!0;var t=R;try{mr(this),R=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return R=t,vr(this),this.f&=-2,!0};qt.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}nt.prototype.S.call(this,t)};qt.prototype.U=function(t){if(this.t!==void 0&&(nt.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};qt.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(qt.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=gr(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Ke(t){return new qt(t)}function br(t){var e=t.u;if(t.u=void 0,typeof e=="function"){mt++;var n=R;R=void 0;try{e()}catch(r){throw t.f&=-2,t.f|=8,un(t),r}finally{R=n,Be()}}}function un(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,br(t)}function vo(t){if(R!==this)throw new Error("Out-of-order effect");vr(this),R=t,this.f&=-2,8&this.f&&un(this),Be()}function Qt(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Qt.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};Qt.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,br(this),mr(this),mt++;var t=R;return R=this,vo.bind(this,t)};Qt.prototype.N=function(){2&this.f||(this.f|=2,this.o=zt,zt=this)};Qt.prototype.d=function(){this.f|=8,1&this.f||un(this)};function te(t){var e=new Qt(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var xr,$e,Er=[];te(function(){xr=this.N})();function Mt(t,e){M[t]=e.bind(null,M[t]||function(){})}function pe(t){$e&&$e(),$e=t&&t.S()}function Sr(t){var e=this,n=t.data,r=xo(n);r.value=n;var o=yr(function(){for(var f=e,a=e.__v;a=a.__;)if(a.__c){a.__c.__$f|=4;break}var u=Ke(function(){var d=r.value.value;return d===0?0:d===!0?"":d||""}),p=Ke(function(){return!Array.isArray(u.value)&&!or(u.value)}),c=te(function(){if(this.N=Br,p.value){var d=u.value;f.__v&&f.__v.__e&&f.__v.__e.nodeType===3&&(f.__v.__e.data=d)}}),l=e.__$u.d;return e.__$u.d=function(){c(),l.call(this)},[p,u]},[]),i=o[0],s=o[1];return i.value?s.peek():s.value}Sr.displayName="_st";Object.defineProperties(nt.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Sr},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Mt("__b",function(t,e){if(typeof e.type=="string"){var n,r=e.props;for(var o in r)if(o!=="children"){var i=r[o];i instanceof nt&&(n||(e.__np=n={}),n[o]=i,r[o]=i.peek())}}t(e)});Mt("__r",function(t,e){pe();var n,r=e.__c;r&&(r.__$f&=-2,(n=r.__$u)===void 0&&(r.__$u=n=function(o){var i;return te(function(){i=this}),i.c=function(){r.__$f|=1,r.setState({})},i}())),pe(n),t(e)});Mt("__e",function(t,e,n,r){pe(),t(e,n,r)});Mt("diffed",function(t,e){pe();var n;if(typeof e.type=="string"&&(n=e.__e)){var r=e.__np,o=e.props;if(r){var i=n.U;if(i)for(var s in i){var f=i[s];f!==void 0&&!(s in r)&&(f.d(),i[s]=void 0)}else i={},n.U=i;for(var a in r){var u=i[a],p=r[a];u===void 0?(u=bo(n,a,p,o),i[a]=u):u.o(p,o)}}}t(e)});function bo(t,e,n,r){var o=e in t&&t.ownerSVGElement===void 0,i=Ae(n);return{o:function(s,f){i.value=s,r=f},d:te(function(){this.N=Br;var s=i.value.value;r[e]!==s&&(r[e]=s,o?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}Mt("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var r=n.U;if(r){n.U=void 0;for(var o in r){var i=r[o];i&&i.d()}}}}else{var s=e.__c;if(s){var f=s.__$u;f&&(s.__$u=void 0,f.d())}}t(e)});Mt("__h",function(t,e,n,r){(r<3||r===9)&&(e.__$f|=2),t(e,n,r)});jt.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u,r=n&&n.s!==void 0;for(var o in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var i=2&this.__$f;if(!(r||i||4&this.__$f)||1&this.__$f)return!0}else if(!(r||4&this.__$f)||3&this.__$f)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var f in this.props)if(!(f in t))return!0;return!1};function xo(t){return yr(function(){return Ae(t)},[])}var Eo=function(t){queueMicrotask(function(){queueMicrotask(t)})};function So(){mo(function(){for(var t;t=Er.shift();)xr.call(t)})}function Br(){Er.push(this)===1&&(M.requestAnimationFrame||Eo)(So)}function In(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Bo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ke(t,...e){if(!Bo(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Ao(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");In(t.outputLen),In(t.blockLen)}function ye(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ko(t,e){ke(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Pt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Le(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function at(t,e){return t<<32-e|t>>>e}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function To(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ln(t){return typeof t=="string"&&(t=To(t)),ke(t),t}function Po(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];ke(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class Ar{clone(){return this._cloneInto()}}function No(t){const e=r=>t().update(ln(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function kr(t=32){if(Pt&&typeof Pt.getRandomValues=="function")return Pt.getRandomValues(new Uint8Array(t));if(Pt&&typeof Pt.randomBytes=="function")return Uint8Array.from(Pt.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function $o(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),f=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,f,r)}function Lo(t,e,n){return t&e^~t&n}function Io(t,e,n){return t&e^t&n^e&n}class Uo extends Ar{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=Le(this.buffer)}update(e){ye(this);const{view:n,buffer:r,blockLen:o}=this;e=ln(e);const i=e.length;for(let s=0;s<i;){const f=Math.min(o-this.pos,i-s);if(f===o){const a=Le(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+f),this.pos),this.pos+=f,s+=f,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ye(this),ko(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let c=s;c<o;c++)n[c]=0;$o(r,o-8,BigInt(this.length*8),i),this.process(r,0);const f=Le(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,p=this.get();if(u>p.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<u;c++)f.setUint32(4*c,p[c],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:f}=this;return e.length=o,e.pos=f,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}}const Oo=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wt=new Uint32Array(64);class Ho extends Uo{constructor(e=32){super(64,e,8,!1),this.A=gt[0]|0,this.B=gt[1]|0,this.C=gt[2]|0,this.D=gt[3]|0,this.E=gt[4]|0,this.F=gt[5]|0,this.G=gt[6]|0,this.H=gt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:f,H:a}=this;return[e,n,r,o,i,s,f,a]}set(e,n,r,o,i,s,f,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=f|0,this.H=a|0}process(e,n){for(let c=0;c<16;c++,n+=4)wt[c]=e.getUint32(n,!1);for(let c=16;c<64;c++){const l=wt[c-15],d=wt[c-2],B=at(l,7)^at(l,18)^l>>>3,b=at(d,17)^at(d,19)^d>>>10;wt[c]=b+wt[c-7]+B+wt[c-16]|0}let{A:r,B:o,C:i,D:s,E:f,F:a,G:u,H:p}=this;for(let c=0;c<64;c++){const l=at(f,6)^at(f,11)^at(f,25),d=p+l+Lo(f,a,u)+Oo[c]+wt[c]|0,b=(at(r,2)^at(r,13)^at(r,22))+Io(r,o,i)|0;p=u,u=a,a=f,f=s+d|0,s=i,i=o,o=r,r=d+b|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,f=f+this.E|0,a=a+this.F|0,u=u+this.G|0,p=p+this.H|0,this.set(r,o,i,s,f,a,u,p)}roundClean(){wt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ge=No(()=>new Ho);class Tr extends Ar{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ao(e);const r=ln(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ye(this),this.iHash.update(e),this}digestInto(e){ye(this),ke(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:f}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=f,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Pr=(t,e,n)=>new Tr(t,e).update(n).digest();Pr.create=(t,e)=>new Tr(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dn=BigInt(0),Ye=BigInt(1);function Ht(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hn(t){if(!Ht(t))throw new Error("Uint8Array expected")}function Vt(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function re(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Nr(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?dn:BigInt("0x"+t)}const $r=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Co=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Zt(t){if(hn(t),$r)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Co[t[n]];return e}const ut={_0:48,_9:57,A:65,F:70,a:97,f:102};function Un(t){if(t>=ut._0&&t<=ut._9)return t-ut._0;if(t>=ut.A&&t<=ut.F)return t-(ut.A-10);if(t>=ut.a&&t<=ut.f)return t-(ut.a-10)}function ge(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if($r)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=Un(t.charCodeAt(i)),f=Un(t.charCodeAt(i+1));if(s===void 0||f===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}r[o]=s*16+f}return r}function pt(t){return Nr(Zt(t))}function Lr(t){return hn(t),Nr(Zt(Uint8Array.from(t).reverse()))}function kt(t,e){return ge(t.toString(16).padStart(e*2,"0"))}function Ir(t,e){return kt(t,e).reverse()}function rt(t,e,n){let r;if(typeof e=="string")try{r=ge(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Ht(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function Ct(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];hn(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}const Ie=t=>typeof t=="bigint"&&dn<=t;function Kt(t,e,n){return Ie(t)&&Ie(e)&&Ie(n)&&e<=t&&t<n}function Bt(t,e,n,r){if(!Kt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function qo(t){let e;for(e=0;t>dn;t>>=Ye,e+=1);return e}const Te=t=>(Ye<<BigInt(t))-Ye,Ue=t=>new Uint8Array(t),On=t=>Uint8Array.from(t);function Mo(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ue(t),o=Ue(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},f=(...c)=>n(o,r,...c),a=(c=Ue(0))=>{o=f(On([0]),c),r=f(),c.length!==0&&(o=f(On([1]),c),r=f())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const l=[];for(;c<e;){r=f();const d=r.slice();l.push(d),c+=r.length}return Ct(...l)};return(c,l)=>{s(),a(c);let d;for(;!(d=l(u()));)a();return s(),d}}const Ro={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ht(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pe(t,e,n={}){const r=(o,i,s)=>{const f=Ro[i];if(typeof f!="function")throw new Error("invalid validator function");const a=t[o];if(!(s&&a===void 0)&&!f(a,t))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+a)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}function Hn(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q=BigInt(0),Y=BigInt(1),St=BigInt(2),Do=BigInt(3),We=BigInt(4),Cn=BigInt(5),qn=BigInt(8);function et(t,e){const n=t%e;return n>=Q?n:e+n}function jo(t,e,n){if(e<Q)throw new Error("invalid exponent, negatives unsupported");if(n<=Q)throw new Error("invalid modulus");if(n===Y)return Q;let r=Y;for(;e>Q;)e&Y&&(r=r*t%n),t=t*t%n,e>>=Y;return r}function it(t,e,n){let r=t;for(;e-- >Q;)r*=r,r%=n;return r}function Je(t,e){if(t===Q)throw new Error("invert: expected non-zero number");if(e<=Q)throw new Error("invert: expected positive modulus, got "+e);let n=et(t,e),r=e,o=Q,i=Y;for(;n!==Q;){const f=r/n,a=r%n,u=o-i*f;r=n,n=a,o=i,i=u}if(r!==Y)throw new Error("invert: does not exist");return et(o,e)}function zo(t){const e=(t-Y)/St;let n,r,o;for(n=t-Y,r=0;n%St===Q;n/=St,r++);for(o=St;o<t&&jo(o,e,t)!==t-Y;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(t+Y)/We;return function(a,u){const p=a.pow(u,s);if(!a.eql(a.sqr(p),u))throw new Error("Cannot find square root");return p}}const i=(n+Y)/St;return function(f,a){if(f.pow(a,e)===f.neg(f.ONE))throw new Error("Cannot find square root");let u=r,p=f.pow(f.mul(f.ONE,o),n),c=f.pow(a,i),l=f.pow(a,n);for(;!f.eql(l,f.ONE);){if(f.eql(l,f.ZERO))return f.ZERO;let d=1;for(let b=f.sqr(l);d<u&&!f.eql(b,f.ONE);d++)b=f.sqr(b);const B=f.pow(p,Y<<BigInt(u-d-1));p=f.sqr(B),c=f.mul(c,B),l=f.mul(l,p),u=d}return c}}function Fo(t){if(t%We===Do){const e=(t+Y)/We;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%qn===Cn){const e=(t-Cn)/qn;return function(r,o){const i=r.mul(o,St),s=r.pow(i,e),f=r.mul(o,s),a=r.mul(r.mul(f,St),s),u=r.mul(f,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return zo(t)}const Vo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zo(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Vo.reduce((r,o)=>(r[o]="function",r),e);return Pe(t,n)}function Ko(t,e,n){if(n<Q)throw new Error("invalid exponent, negatives unsupported");if(n===Q)return t.ONE;if(n===Y)return e;let r=t.ONE,o=e;for(;n>Q;)n&Y&&(r=t.mul(r,o)),o=t.sqr(o),n>>=Y;return r}function Go(t,e){const n=new Array(e.length),r=e.reduce((i,s,f)=>t.is0(s)?i:(n[f]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,f)=>t.is0(s)?i:(n[f]=t.mul(i,n[f]),t.mul(i,s)),o),n}function Ur(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Or(t,e,n=!1,r={}){if(t<=Q)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:o,nByteLength:i}=Ur(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const f=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Te(o),ZERO:Q,ONE:Y,create:a=>et(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return Q<=a&&a<t},is0:a=>a===Q,isOdd:a=>(a&Y)===Y,neg:a=>et(-a,t),eql:(a,u)=>a===u,sqr:a=>et(a*a,t),add:(a,u)=>et(a+u,t),sub:(a,u)=>et(a-u,t),mul:(a,u)=>et(a*u,t),pow:(a,u)=>Ko(f,a,u),div:(a,u)=>et(a*Je(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>Je(a,t),sqrt:r.sqrt||(a=>(s||(s=Fo(t)),s(f,a))),invertBatch:a=>Go(f,a),cmov:(a,u,p)=>p?u:a,toBytes:a=>n?Ir(a,i):kt(a,i),fromBytes:a=>{if(a.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+a.length);return n?Lr(a):pt(a)}});return Object.freeze(f)}function Hr(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Cr(t){const e=Hr(t);return e+Math.ceil(e/2)}function Yo(t,e,n=!1){const r=t.length,o=Hr(e),i=Cr(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?Lr(t):pt(t),f=et(s,e-Y)+Y;return n?Ir(f,o):kt(f,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mn=BigInt(0),Xe=BigInt(1);function Oe(t,e){const n=e.negate();return t?n:e}function qr(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function He(t,e){qr(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=Te(t),s=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function Rn(t,e,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=n;let f=Number(t&o),a=t>>s;f>r&&(f-=i,a+=Xe);const u=e*r,p=u+Math.abs(f)-1,c=f===0,l=f<0,d=e%2!==0;return{nextN:a,offset:p,isZero:c,isNeg:l,isNegF:d,offsetF:u}}function Wo(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Jo(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ce=new WeakMap,Mr=new WeakMap;function qe(t){return Mr.get(t)||1}function Xo(t,e){return{constTimeNegate:Oe,hasPrecomputes(n){return qe(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>Mn;)r&Xe&&(o=o.add(i)),i=i.double(),r>>=Xe;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=He(r,e),s=[];let f=n,a=f;for(let u=0;u<o;u++){a=f,s.push(a);for(let p=1;p<i;p++)a=a.add(f),s.push(a);f=a.double()}return s},wNAF(n,r,o){let i=t.ZERO,s=t.BASE;const f=He(n,e);for(let a=0;a<f.windows;a++){const{nextN:u,offset:p,isZero:c,isNeg:l,isNegF:d,offsetF:B}=Rn(o,a,f);o=u,c?s=s.add(Oe(d,r[B])):i=i.add(Oe(l,r[p]))}return{p:i,f:s}},wNAFUnsafe(n,r,o,i=t.ZERO){const s=He(n,e);for(let f=0;f<s.windows&&o!==Mn;f++){const{nextN:a,offset:u,isZero:p,isNeg:c}=Rn(o,f,s);if(o=a,!p){const l=r[u];i=i.add(c?l.negate():l)}}return i},getPrecomputes(n,r,o){let i=Ce.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Ce.set(r,o(i))),i},wNAFCached(n,r,o){const i=qe(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=qe(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){qr(r,e),Mr.set(n,r),Ce.delete(n)}}}function Qo(t,e,n,r){if(Wo(n,t),Jo(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,i=qo(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,f=Te(s),a=new Array(Number(f)+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let p=o;for(let c=u;c>=0;c-=s){a.fill(o);for(let d=0;d<r.length;d++){const B=r[d],b=Number(B>>BigInt(c)&f);a[b]=a[b].add(n[d])}let l=o;for(let d=a.length-1,B=o;d>0;d--)B=B.add(a[d]),l=l.add(B);if(p=p.add(l),c!==0)for(let d=0;d<s;d++)p=p.double()}return p}function Rr(t){return Zo(t.Fp),Pe(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ur(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dn(t){t.lowS!==void 0&&Vt("lowS",t.lowS),t.prehash!==void 0&&Vt("prehash",t.prehash)}function ti(t){const e=Rr(t);Pe(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class ei extends Error{constructor(e=""){super(e)}}const lt={Err:ei,_tlv:{encode:(t,e)=>{const{Err:n}=lt;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=re(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?re(o.length/2|128):"";return re(t)+i+o+e},decode(t,e){const{Err:n}=lt;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const a=o&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of u)s=s<<8|p;if(r+=a,s<128)throw new n("tlv.decode(long): not minimal encoding")}const f=e.subarray(r,r+s);if(f.length!==s)throw new n("tlv.decode: wrong value length");return{v:f,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=lt;if(t<ht)throw new e("integer: negative integers are not allowed");let n=re(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=lt;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=lt,o=rt("signature",t),{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:f,l:a}=r.decode(2,i),{v:u,l:p}=r.decode(2,a);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(f),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=lt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},ht=BigInt(0),X=BigInt(1);BigInt(2);const jn=BigInt(3);BigInt(4);function ni(t){const e=ti(t),{Fp:n}=e,r=Or(e.n,e.nBitLength),o=e.toBytes||((b,_,m)=>{const E=_.toAffine();return Ct(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),i=e.fromBytes||(b=>{const _=b.subarray(1),m=n.fromBytes(_.subarray(0,n.BYTES)),E=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:m,y:E}});function s(b){const{a:_,b:m}=e,E=n.sqr(b),A=n.mul(E,b);return n.add(n.add(A,n.mul(b,_)),m)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function f(b){return Kt(b,X,e.n)}function a(b){const{allowedPrivateKeyLengths:_,nByteLength:m,wrapPrivateKey:E,n:A}=e;if(_&&typeof b!="bigint"){if(Ht(b)&&(b=Zt(b)),typeof b!="string"||!_.includes(b.length))throw new Error("invalid private key");b=b.padStart(m*2,"0")}let P;try{P=typeof b=="bigint"?b:pt(rt("private key",b,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof b)}return E&&(P=et(P,A)),Bt("private key",P,X,A),P}function u(b){if(!(b instanceof l))throw new Error("ProjectivePoint expected")}const p=Hn((b,_)=>{const{px:m,py:E,pz:A}=b;if(n.eql(A,n.ONE))return{x:m,y:E};const P=b.is0();_==null&&(_=P?n.ONE:n.inv(A));const U=n.mul(m,_),N=n.mul(E,_),T=n.mul(A,_);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:U,y:N}}),c=Hn(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:_,y:m}=b.toAffine();if(!n.isValid(_)||!n.isValid(m))throw new Error("bad point: x or y not FE");const E=n.sqr(m),A=s(_);if(!n.eql(E,A))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(_,m,E){if(_==null||!n.isValid(_))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=_,this.py=m,this.pz=E,Object.freeze(this)}static fromAffine(_){const{x:m,y:E}=_||{};if(!_||!n.isValid(m)||!n.isValid(E))throw new Error("invalid affine point");if(_ instanceof l)throw new Error("projective point not allowed");const A=P=>n.eql(P,n.ZERO);return A(m)&&A(E)?l.ZERO:new l(m,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const m=n.invertBatch(_.map(E=>E.pz));return _.map((E,A)=>E.toAffine(m[A])).map(l.fromAffine)}static fromHex(_){const m=l.fromAffine(i(rt("pointHex",_)));return m.assertValidity(),m}static fromPrivateKey(_){return l.BASE.multiply(a(_))}static msm(_,m){return Qo(l,r,_,m)}_setWindowSize(_){B.setWindowSize(this,_)}assertValidity(){c(this)}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){u(_);const{px:m,py:E,pz:A}=this,{px:P,py:U,pz:N}=_,T=n.eql(n.mul(m,N),n.mul(P,A)),$=n.eql(n.mul(E,N),n.mul(U,A));return T&&$}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:m}=e,E=n.mul(m,jn),{px:A,py:P,pz:U}=this;let N=n.ZERO,T=n.ZERO,$=n.ZERO,k=n.mul(A,A),D=n.mul(P,P),O=n.mul(U,U),h=n.mul(A,P);return h=n.add(h,h),$=n.mul(A,U),$=n.add($,$),N=n.mul(_,$),T=n.mul(E,O),T=n.add(N,T),N=n.sub(D,T),T=n.add(D,T),T=n.mul(N,T),N=n.mul(h,N),$=n.mul(E,$),O=n.mul(_,O),h=n.sub(k,O),h=n.mul(_,h),h=n.add(h,$),$=n.add(k,k),k=n.add($,k),k=n.add(k,O),k=n.mul(k,h),T=n.add(T,k),O=n.mul(P,U),O=n.add(O,O),k=n.mul(O,h),N=n.sub(N,k),$=n.mul(O,D),$=n.add($,$),$=n.add($,$),new l(N,T,$)}add(_){u(_);const{px:m,py:E,pz:A}=this,{px:P,py:U,pz:N}=_;let T=n.ZERO,$=n.ZERO,k=n.ZERO;const D=e.a,O=n.mul(e.b,jn);let h=n.mul(m,P),S=n.mul(E,U),y=n.mul(A,N),g=n.add(m,E),v=n.add(P,U);g=n.mul(g,v),v=n.add(h,S),g=n.sub(g,v),v=n.add(m,A);let w=n.add(P,N);return v=n.mul(v,w),w=n.add(h,y),v=n.sub(v,w),w=n.add(E,A),T=n.add(U,N),w=n.mul(w,T),T=n.add(S,y),w=n.sub(w,T),k=n.mul(D,v),T=n.mul(O,y),k=n.add(T,k),T=n.sub(S,k),k=n.add(S,k),$=n.mul(T,k),S=n.add(h,h),S=n.add(S,h),y=n.mul(D,y),v=n.mul(O,v),S=n.add(S,y),y=n.sub(h,y),y=n.mul(D,y),v=n.add(v,y),h=n.mul(S,v),$=n.add($,h),h=n.mul(w,v),T=n.mul(g,T),T=n.sub(T,h),h=n.mul(g,S),k=n.mul(w,k),k=n.add(k,h),new l(T,$,k)}subtract(_){return this.add(_.negate())}is0(){return this.equals(l.ZERO)}wNAF(_){return B.wNAFCached(this,_,l.normalizeZ)}multiplyUnsafe(_){const{endo:m,n:E}=e;Bt("scalar",_,ht,E);const A=l.ZERO;if(_===ht)return A;if(this.is0()||_===X)return this;if(!m||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,_,l.normalizeZ);let{k1neg:P,k1:U,k2neg:N,k2:T}=m.splitScalar(_),$=A,k=A,D=this;for(;U>ht||T>ht;)U&X&&($=$.add(D)),T&X&&(k=k.add(D)),D=D.double(),U>>=X,T>>=X;return P&&($=$.negate()),N&&(k=k.negate()),k=new l(n.mul(k.px,m.beta),k.py,k.pz),$.add(k)}multiply(_){const{endo:m,n:E}=e;Bt("scalar",_,X,E);let A,P;if(m){const{k1neg:U,k1:N,k2neg:T,k2:$}=m.splitScalar(_);let{p:k,f:D}=this.wNAF(N),{p:O,f:h}=this.wNAF($);k=B.constTimeNegate(U,k),O=B.constTimeNegate(T,O),O=new l(n.mul(O.px,m.beta),O.py,O.pz),A=k.add(O),P=D.add(h)}else{const{p:U,f:N}=this.wNAF(_);A=U,P=N}return l.normalizeZ([A,P])[0]}multiplyAndAddUnsafe(_,m,E){const A=l.BASE,P=(N,T)=>T===ht||T===X||!N.equals(A)?N.multiplyUnsafe(T):N.multiply(T),U=P(this,m).add(P(_,E));return U.is0()?void 0:U}toAffine(_){return p(this,_)}isTorsionFree(){const{h:_,isTorsionFree:m}=e;if(_===X)return!0;if(m)return m(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:m}=e;return _===X?this:m?m(l,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return Vt("isCompressed",_),this.assertValidity(),o(l,this,_)}toHex(_=!0){return Vt("isCompressed",_),Zt(this.toRawBytes(_))}}l.BASE=new l(e.Gx,e.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,B=Xo(l,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:f}}function ri(t){const e=Rr(t);return Pe(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oi(t){const e=ri(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(y){return et(y,r)}function f(y){return Je(y,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:p,isWithinCurveOrder:c}=ni({...e,toBytes(y,g,v){const w=g.toAffine(),x=n.toBytes(w.x),L=Ct;return Vt("isCompressed",v),v?L(Uint8Array.from([g.hasEvenY()?2:3]),x):L(Uint8Array.from([4]),x,n.toBytes(w.y))},fromBytes(y){const g=y.length,v=y[0],w=y.subarray(1);if(g===o&&(v===2||v===3)){const x=pt(w);if(!Kt(x,X,n.ORDER))throw new Error("Point is not on curve");const L=p(x);let H;try{H=n.sqrt(L)}catch(I){const q=I instanceof Error?": "+I.message:"";throw new Error("Point is not on curve"+q)}const C=(H&X)===X;return(v&1)===1!==C&&(H=n.neg(H)),{x,y:H}}else if(g===i&&v===4){const x=n.fromBytes(w.subarray(0,n.BYTES)),L=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x,y:L}}else{const x=o,L=i;throw new Error("invalid Point, expected length of "+x+", or uncompressed "+L+", got "+g)}}}),l=y=>Zt(kt(y,e.nByteLength));function d(y){const g=r>>X;return y>g}function B(y){return d(y)?s(-y):y}const b=(y,g,v)=>pt(y.slice(g,v));class _{constructor(g,v,w){Bt("r",g,X,r),Bt("s",v,X,r),this.r=g,this.s=v,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(g){const v=e.nByteLength;return g=rt("compactSignature",g,v*2),new _(b(g,0,v),b(g,v,2*v))}static fromDER(g){const{r:v,s:w}=lt.toSig(rt("DER",g));return new _(v,w)}assertValidity(){}addRecoveryBit(g){return new _(this.r,this.s,g)}recoverPublicKey(g){const{r:v,s:w,recovery:x}=this,L=N(rt("msgHash",g));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const H=x===2||x===3?v+e.n:v;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const C=(x&1)===0?"02":"03",K=a.fromHex(C+l(H)),I=f(H),q=s(-L*I),tt=s(w*I),F=a.BASE.multiplyAndAddUnsafe(K,q,tt);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ge(this.toDERHex())}toDERHex(){return lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ge(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const m={isValidPrivateKey(y){try{return u(y),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const y=Cr(e.n);return Yo(e.randomBytes(y),e.n)},precompute(y=8,g=a.BASE){return g._setWindowSize(y),g.multiply(BigInt(3)),g}};function E(y,g=!0){return a.fromPrivateKey(y).toRawBytes(g)}function A(y){const g=Ht(y),v=typeof y=="string",w=(g||v)&&y.length;return g?w===o||w===i:v?w===2*o||w===2*i:y instanceof a}function P(y,g,v=!0){if(A(y))throw new Error("first arg must be private key");if(!A(g))throw new Error("second arg must be public key");return a.fromHex(g).multiply(u(y)).toRawBytes(v)}const U=e.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");const g=pt(y),v=y.length*8-e.nBitLength;return v>0?g>>BigInt(v):g},N=e.bits2int_modN||function(y){return s(U(y))},T=Te(e.nBitLength);function $(y){return Bt("num < 2^"+e.nBitLength,y,ht,T),kt(y,e.nByteLength)}function k(y,g,v=D){if(["recovered","canonical"].some(V=>V in v))throw new Error("sign() legacy options not supported");const{hash:w,randomBytes:x}=e;let{lowS:L,prehash:H,extraEntropy:C}=v;L==null&&(L=!0),y=rt("msgHash",y),Dn(v),H&&(y=rt("prehashed msgHash",w(y)));const K=N(y),I=u(g),q=[$(I),$(K)];if(C!=null&&C!==!1){const V=C===!0?x(n.BYTES):C;q.push(rt("extraEntropy",V))}const tt=Ct(...q),F=K;function st(V){const z=U(V);if(!c(z))return;const G=f(z),j=a.BASE.multiply(z).toAffine(),Z=s(j.x);if(Z===ht)return;const ft=s(G*s(F+Z*I));if(ft===ht)return;let ct=(j.x===Z?0:2)|Number(j.y&X),Tt=ft;return L&&d(ft)&&(Tt=B(ft),ct^=1),new _(Z,Tt,ct)}return{seed:tt,k2sig:st}}const D={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function h(y,g,v=D){const{seed:w,k2sig:x}=k(y,g,v),L=e;return Mo(L.hash.outputLen,L.nByteLength,L.hmac)(w,x)}a.BASE._setWindowSize(8);function S(y,g,v,w=O){var ct;const x=y;g=rt("msgHash",g),v=rt("publicKey",v);const{lowS:L,prehash:H,format:C}=w;if(Dn(w),"strict"in w)throw new Error("options.strict was renamed to lowS");if(C!==void 0&&C!=="compact"&&C!=="der")throw new Error("format must be compact or der");const K=typeof x=="string"||Ht(x),I=!K&&!C&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!K&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,tt;try{if(I&&(q=new _(x.r,x.s)),K){try{C!=="compact"&&(q=_.fromDER(x))}catch(Tt){if(!(Tt instanceof lt.Err))throw Tt}!q&&C!=="der"&&(q=_.fromCompact(x))}tt=a.fromHex(v)}catch{return!1}if(!q||L&&q.hasHighS())return!1;H&&(g=e.hash(g));const{r:F,s:st}=q,V=N(g),z=f(st),G=s(V*z),j=s(F*z),Z=(ct=a.BASE.multiplyAndAddUnsafe(tt,G,j))==null?void 0:ct.toAffine();return Z?s(Z.x)===F:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:P,sign:h,verify:S,ProjectivePoint:a,Signature:_,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ii(t){return{hash:t,hmac:(e,...n)=>Pr(t,e,Po(...n)),randomBytes:kr}}function si(t,e){const n=r=>oi({...t,...ii(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),we=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gt=BigInt(1),me=BigInt(2),zn=(t,e)=>(t+e/me)/e;function Dr(t){const e=ee,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),f=BigInt(44),a=BigInt(88),u=t*t*t%e,p=u*u*t%e,c=it(p,n,e)*p%e,l=it(c,n,e)*p%e,d=it(l,me,e)*u%e,B=it(d,o,e)*d%e,b=it(B,i,e)*B%e,_=it(b,f,e)*b%e,m=it(_,a,e)*_%e,E=it(m,f,e)*b%e,A=it(E,n,e)*p%e,P=it(A,s,e)*B%e,U=it(P,r,e)*u%e,N=it(U,me,e);if(!Qe.eql(Qe.sqr(N),t))throw new Error("Cannot find square root");return N}const Qe=Or(ee,void 0,void 0,{sqrt:Dr}),_n=si({a:BigInt(0),b:BigInt(7),Fp:Qe,n:we,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=we,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),f=zn(i*t,e),a=zn(-r*t,e);let u=et(t-f*n-a*o,e),p=et(-f*r-a*i,e);const c=u>s,l=p>s;if(c&&(u=e-u),l&&(p=e-p),u>s||p>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:u,k2neg:l,k2:p}}}},Ge),jr=BigInt(0),Fn={};function ve(t,...e){let n=Fn[t];if(n===void 0){const r=Ge(Uint8Array.from(t,o=>o.charCodeAt(0)));n=Ct(r,r),Fn[t]=n}return Ge(Ct(n,...e))}const pn=t=>t.toRawBytes(!0).slice(1),tn=t=>kt(t,32),Me=t=>et(t,ee),Yt=t=>et(t,we),yn=_n.ProjectivePoint,ci=(t,e,n)=>yn.BASE.multiplyAndAddUnsafe(t,e,n);function en(t){let e=_n.utils.normPrivateKeyToScalar(t),n=yn.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Yt(-e),bytes:pn(n)}}function zr(t){Bt("x",t,Gt,ee);const e=Me(t*t),n=Me(e*t+BigInt(7));let r=Dr(n);r%me!==jr&&(r=Me(-r));const o=new yn(t,r,Gt);return o.assertValidity(),o}const Ut=pt;function Fr(...t){return Yt(Ut(ve("BIP0340/challenge",...t)))}function ai(t){return en(t).bytes}function fi(t,e,n=kr(32)){const r=rt("message",t),{bytes:o,scalar:i}=en(e),s=rt("auxRand",n,32),f=tn(i^Ut(ve("BIP0340/aux",s))),a=ve("BIP0340/nonce",f,o,r),u=Yt(Ut(a));if(u===jr)throw new Error("sign failed: k is zero");const{bytes:p,scalar:c}=en(u),l=Fr(p,o,r),d=new Uint8Array(64);if(d.set(p,0),d.set(tn(Yt(c+l*i)),32),!Vr(d,r,o))throw new Error("sign: Invalid signature produced");return d}function Vr(t,e,n){const r=rt("signature",t,64),o=rt("message",e),i=rt("publicKey",n,32);try{const s=zr(Ut(i)),f=Ut(r.subarray(0,32));if(!Kt(f,Gt,ee))return!1;const a=Ut(r.subarray(32,64));if(!Kt(a,Gt,we))return!1;const u=Fr(tn(f),pn(s),o),p=ci(s,a,Yt(-u));return!(!p||!p.hasEvenY()||p.toAffine().x!==f)}catch{return!1}}const gn={getPublicKey:ai,sign:fi,verify:Vr,utils:{randomPrivateKey:_n.utils.randomPrivateKey,lift_x:zr,pointToBytes:pn,numberToBytesBE:kt,bytesToNumberBE:pt,taggedHash:ve,mod:et}},{floor:nn,random:ui,sin:li}=Math,Wt="Trystero",Jt=(t,e)=>Array(t).fill().map(e),Vn="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",rn=t=>Jt(t,()=>Vn[nn(ui()*Vn.length)]).join(""),Lt=rn(20),It=Promise.all.bind(Promise),di=typeof window<"u",{entries:Zn,fromEntries:hi,keys:_i}=Object,xt=()=>{},dt=t=>new Error(`${Wt}: ${t}`),pi=new TextEncoder,yi=new TextDecoder,At=t=>pi.encode(t),fe=t=>yi.decode(t),on=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),""),oe=(...t)=>t.join("@"),gi=(t,e)=>{const n=[...t],r=()=>{const i=li(e++)*1e4;return i-nn(i)};let o=n.length;for(;o;){const i=nn(r()*o--);[n[o],n[i]]=[n[i],n[o]]}return n},wi=(t,e,n,r)=>(t.relayUrls||gi(e,Zr(t.appId))).slice(0,t.relayUrls?t.relayUrls.length:t.relayRedundancy||n),yt=JSON.stringify,be=JSON.parse,Zr=(t,e=Number.MAX_SAFE_INTEGER)=>t.split("").reduce((n,r)=>n+r.charCodeAt(0),0)%e,Kn=3333,Nt={},mi=(t,e)=>{const n={},r=()=>{const o=new WebSocket(t);o.onclose=()=>{Nt[t]??(Nt[t]=Kn),setTimeout(r,Nt[t]),Nt[t]*=2},o.onmessage=i=>e(i.data),n.socket=o,n.url=o.url,n.ready=new Promise(i=>o.onopen=()=>{i(n),Nt[t]=Kn}),n.send=i=>{o.readyState===1&&o.send(i)}};return r(),n},wn="AES-GCM",Gn={},vi=t=>btoa(String.fromCharCode.apply(null,new Uint8Array(t))),bi=t=>{const e=atob(t);return new Uint8Array(e.length).map((n,r)=>e.charCodeAt(r)).buffer},ie=async t=>Gn[t]||(Gn[t]=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",At(t)))).map(e=>e.toString(36)).join("")),xi=async(t,e,n)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},At(`${t}:${e}:${n}`)),{name:wn},!1,["encrypt","decrypt"]),Kr="$",Gr=",",Ei=async(t,e)=>{const n=crypto.getRandomValues(new Uint8Array(16));return n.join(Gr)+Kr+vi(await crypto.subtle.encrypt({name:wn,iv:n},await t,At(e)))},Si=async(t,e)=>{const[n,r]=e.split(Kr);return fe(await crypto.subtle.decrypt({name:wn,iv:new Uint8Array(n.split(Gr))},await t,bi(r)))},Bi=5e3,Yn="icegatheringstatechange",Re=t=>t.replace(/a=ice-options:trickle\s\n/g,""),Wn=(t,{rtcConfig:e,rtcPolyfill:n,turnConfig:r})=>{const o=new(n||RTCPeerConnection)({iceServers:Ai.concat(r||[]),...e}),i={},s=c=>{c.binaryType="arraybuffer",c.bufferedAmountLowThreshold=65535,c.onmessage=l=>{var d;return(d=i.data)==null?void 0:d.call(i,l.data)},c.onopen=()=>{var l;return(l=i.connect)==null?void 0:l.call(i)},c.onclose=()=>{var l;return(l=i.close)==null?void 0:l.call(i)},c.onerror=l=>{var d;return(d=i.error)==null?void 0:d.call(i,l)}},f=async c=>{if(!c.localDescription)throw new Error("No local description available");return await Promise.race([new Promise(l=>{const d=()=>{c.iceGatheringState==="complete"&&(c.removeEventListener(Yn,d),l())};c.addEventListener(Yn,d),d()}),new Promise(l=>setTimeout(l,Bi))]),{type:c.localDescription.type,sdp:Re(c.localDescription.sdp)}};let a=!1,u=null,p=!1;return t?(u=o.createDataChannel("data"),s(u)):o.ondatachannel=({channel:c})=>{u=c,s(c)},o.onnegotiationneeded=async()=>{var c,l;try{a=!0,await o.setLocalDescription();const d=await f(o);(c=i.signal)==null||c.call(i,{type:d.type,sdp:Re(d.sdp)})}catch(d){(l=i.error)==null||l.call(i,d)}finally{a=!1}},o.onconnectionstatechange=()=>{var c;["disconnected","failed","closed"].includes(o.connectionState)&&((c=i.close)==null||c.call(i))},o.ontrack=c=>{var l,d;(l=i.track)==null||l.call(i,c.track,c.streams[0]),(d=i.stream)==null||d.call(i,c.streams[0])},o.onremovestream=c=>{var l;(l=i.stream)==null||l.call(i,c.stream,{removed:!0})},t&&(o.canTrickleIceCandidates||o.onnegotiationneeded()),{created:Date.now(),connection:o,get channel(){return u},get isDead(){return o.connectionState==="closed"},async signal(c){var l,d,B;if((u==null?void 0:u.readyState)==="open"){if((c.type==="offer"||o.signalingState!=="stable")&&(await o.setRemoteDescription(c),c.type==="offer")){await o.setLocalDescription();const b=await f(o);return(l=i.signal)==null||l.call(i,{type:b.type,sdp:b.sdp}),{type:b.type,sdp:b.sdp}}return}try{if(c.type==="offer"){if((a||o.signalingState!=="stable")&&(p=!t,p))return;await o.setRemoteDescription(c),await o.setLocalDescription();const b=await f(o),_=Re(b.sdp);return(d=i.signal)==null||d.call(i,{type:b.type,sdp:_}),{type:b.type,sdp:_}}else c.type==="answer"&&(o.signalingState==="have-local-offer"||o.signalingState==="have-remote-offer")&&await o.setRemoteDescription(c)}catch(b){(B=i.error)==null||B.call(i,b)}},sendData:c=>u.send(c),destroy:()=>{u&&u.close(),o.close()},setHandlers:c=>Object.assign(i,c),offerPromise:t?new Promise(c=>{const l=d=>{d.type==="offer"&&c(d)};i.signal=l}):Promise.resolve(),addStream:c=>{c.getTracks().forEach(l=>o.addTrack(l,c))},removeStream:c=>{o.getSenders().filter(l=>c.getTracks().includes(l.track)).forEach(l=>o.removeTrack(l))},addTrack:(c,l)=>o.addTrack(c,l),removeTrack:c=>{const l=o.getSenders().find(d=>d.track===c);l&&o.removeTrack(l)},replaceTrack:async(c,l)=>{const d=o.getSenders().find(B=>B.track===c);d&&await d.replaceTrack(l)}}},Ai=[...Jt(3,(t,e)=>`stun:stun${e||""}.l.google.com:19302`),"stun:global.stun.twilio.com:3478"].map(t=>({urls:t})),ki=Object.getPrototypeOf(Uint8Array),ue=12,Yr=0,le=Yr+ue,de=le+1,Rt=de+1,Dt=Rt+1,vt=16*2**10-Dt,se=255,Jn="bufferedamountlow",$t=t=>"@_"+t,Ti=(t,e,n)=>{const r={},o={},i={},s={},f={},a={},u={},p={onPeerJoin:xt,onPeerLeave:xt,onPeerStream:xt,onPeerTrack:xt},c=(h,S)=>(h?Array.isArray(h)?h:[h]:_i(r)).flatMap(y=>{const g=r[y];return g?S(y,g):(console.warn(`${Wt}: no peer with id ${y} found`),[])}),l=h=>{r[h]&&(delete r[h],delete s[h],delete f[h],p.onPeerLeave(h),e(h))},d=h=>{if(o[h])return i[h];if(!h)throw dt("action type argument is required");const S=At(h);if(S.byteLength>ue)throw dt(`action type string "${h}" (${S.byteLength}b) exceeds byte limit (${ue}). Hint: choose a shorter name.`);const y=new Uint8Array(ue);y.set(S);let g=0;return o[h]={onComplete:xt,onProgress:xt,setOnComplete:v=>o[h]={...o[h],onComplete:v},setOnProgress:v=>o[h]={...o[h],onProgress:v},send:async(v,w,x,L)=>{if(x&&typeof x!="object")throw dt("action meta argument must be an object");const H=typeof v;if(H==="undefined")throw dt("action data cannot be undefined");const C=H!=="string",K=v instanceof Blob,I=K||v instanceof ArrayBuffer||v instanceof ki;if(x&&!I)throw dt("action meta argument can only be used with binary data");const q=I?new Uint8Array(K?await v.arrayBuffer():v):At(C?yt(v):v),tt=x?At(yt(x)):null,F=Math.ceil(q.byteLength/vt)+(x?1:0)||1,st=Jt(F,(V,z)=>{const G=z===F-1,j=x&&z===0,Z=new Uint8Array(Dt+(j?tt.byteLength:G?q.byteLength-vt*(F-(x?2:1)):vt));return Z.set(y),Z.set([g],le),Z.set([G|j<<1|I<<2|C<<3],de),Z.set([Math.round((z+1)/F*se)],Rt),Z.set(x?j?tt:q.subarray((z-1)*vt,z*vt):q.subarray(z*vt,(z+1)*vt),Dt),Z});return g=g+1&se,It(c(w,async(V,z)=>{const{channel:G}=z;let j=0;for(;j<F;){const Z=st[j];if(G.bufferedAmount>G.bufferedAmountLowThreshold&&await new Promise(ft=>{const ct=()=>{G.removeEventListener(Jn,ct),ft()};G.addEventListener(Jn,ct)}),!r[V])break;z.sendData(Z),j++,L==null||L(Z[Rt]/se,V,x)}}))}},i[h]||(i[h]=[o[h].send,o[h].setOnComplete,o[h].setOnProgress])},B=(h,S)=>{var F,st;const y=new Uint8Array(S),g=fe(y.subarray(Yr,le)).replaceAll("\0",""),[v]=y.subarray(le,de),[w]=y.subarray(de,Rt),[x]=y.subarray(Rt,Dt),L=y.subarray(Dt),H=!!(w&1),C=!!(w&2),K=!!(w&4),I=!!(w&8);if(!o[g]){console.warn(`${Wt}: received message with unregistered type (${g})`);return}s[h]||(s[h]={}),(F=s[h])[g]||(F[g]={});const q=(st=s[h][g])[v]||(st[v]={chunks:[]});if(C?q.meta=be(fe(L)):q.chunks.push(L),o[g].onProgress(x/se,h,q.meta),!H)return;const tt=new Uint8Array(q.chunks.reduce((V,z)=>V+z.byteLength,0));if(q.chunks.reduce((V,z)=>(tt.set(z,V),V+z.byteLength),0),delete s[h][g][v],K)o[g].onComplete(tt,h,q.meta);else{const V=fe(tt);o[g].onComplete(I?be(V):V,h)}},b=async()=>{await D(""),await new Promise(h=>setTimeout(h,99)),Zn(r).forEach(([h,S])=>{S.destroy(),delete r[h]}),n()},[_,m]=d($t("ping")),[E,A]=d($t("pong")),[P,U]=d($t("signal")),[N,T]=d($t("stream")),[$,k]=d($t("track")),[D,O]=d($t("leave"));return t((h,S)=>{var y;r[S]||(r[S]=h,h.setHandlers({data:g=>B(S,g),stream:g=>{p.onPeerStream(g,S,a[S]),delete a[S]},track:(g,v)=>{p.onPeerTrack(g,v,S,u[S]),delete u[S]},signal:g=>P(g,S),close:()=>l(S),error:()=>l(S)}),p.onPeerJoin(S),(y=h.drainEarlyData)==null||y.call(h,g=>B(S,g)))}),m((h,S)=>E("",S)),A((h,S)=>{var y;(y=f[S])==null||y.call(f),delete f[S]}),U((h,S)=>{var y;return(y=r[S])==null?void 0:y.signal(h)}),T((h,S)=>a[S]=h),k((h,S)=>u[S]=h),O((h,S)=>l(S)),di&&addEventListener("beforeunload",b),{makeAction:d,leave:b,ping:async h=>{if(!h)throw dt("ping() must be called with target peer ID");const S=Date.now();return _("",h),await new Promise(y=>f[h]=y),Date.now()-S},getPeers:()=>hi(Zn(r).map(([h,S])=>[h,S.connection])),addStream:(h,S,y)=>c(S,async(g,v)=>{y&&await N(y,g),v.addStream(h)}),removeStream:(h,S)=>c(S,(y,g)=>g.removeStream(h)),addTrack:(h,S,y,g)=>c(y,async(v,w)=>{g&&await $(g,v),w.addTrack(h,S)}),removeTrack:(h,S,y)=>c(y,(g,v)=>v.removeTrack(h,S)),replaceTrack:(h,S,y,g,v)=>c(g,async(w,x)=>{v&&await $(v,w),x.replaceTrack(h,S,y)}),onPeerJoin:h=>p.onPeerJoin=h,onPeerLeave:h=>p.onPeerLeave=h,onPeerStream:h=>p.onPeerStream=h,onPeerTrack:h=>p.onPeerTrack=h}},Pi=20,Ni=5333,Xn=57333,$i=({init:t,subscribe:e,announce:n})=>{const r={};let o=!1,i,s,f;return(a,u,p)=>{var v;const{appId:c}=a;if((v=r[c])!=null&&v[u])return r[c][u];const l={},d={},B=oe(Wt,c,u),b=ie(B),_=ie(oe(B,Lt)),m=xi(a.password||"",c,u),E=w=>async x=>({type:x.type,sdp:await w(m,x.sdp)}),A=E(Si),P=E(Ei),U=()=>Wn(!0,a),N=(w,x,L)=>{var H;if(d[x]){d[x]!==w&&w.destroy();return}d[x]=w,g(w,x),(H=l[x])==null||H.forEach((C,K)=>{K!==L&&C.destroy()}),delete l[x]},T=(w,x)=>{d[x]===w&&delete d[x]},$=(w,x)=>{var H;if(d[w])return;const L=(H=l[w])==null?void 0:H[x];L&&(delete l[w][x],L.destroy())},k=w=>(s.push(...Jt(w,U)),It(s.splice(0,w).map(x=>x.offerPromise.then(P).then(L=>({peer:x,offer:L}))))),D=(w,x)=>p==null?void 0:p({error:`incorrect password (${a.password}) when decrypting ${x}`,appId:c,peerId:w,roomId:u}),O=w=>async(x,L,H)=>{var st,V,z;const[C,K]=await It([b,_]);if(x!==C&&x!==K)return;const{peerId:I,offer:q,answer:tt,peer:F}=typeof L=="string"?be(L):L;if(!(I===Lt||d[I])){if(I&&!q&&!tt){if((st=l[I])!=null&&st[w])return;const[[{peer:G,offer:j}],Z]=await It([k(1),ie(oe(B,I))]);l[I]||(l[I]=[]),l[I][w]=G,setTimeout(()=>$(I,w),h[w]*.9),G.setHandlers({connect:()=>N(G,I,w),close:()=>T(G,I)}),H(Z,yt({peerId:Lt,offer:j}))}else if(q){if(((V=l[I])==null?void 0:V[w])&&Lt>I)return;const j=Wn(!1,a);j.setHandlers({connect:()=>N(j,I,w),close:()=>T(j,I)});let Z;try{Z=await A(q)}catch{D(I,"offer");return}if(j.isDead)return;const[ft,ct]=await It([ie(oe(B,I)),j.signal(Z)]);H(ft,yt({peerId:Lt,answer:await P(ct)}))}else if(tt){let G;try{G=await A(tt)}catch{D(I,"answer");return}if(F)F.setHandlers({connect:()=>N(F,I,w),close:()=>T(F,I)}),F.signal(G);else{const j=(z=l[I])==null?void 0:z[w];j&&!j.isDead&&j.signal(G)}}}};if(!a)throw dt("requires a config map as the first argument");if(!c&&!a.firebaseApp)throw dt("config map is missing appId field");if(!u)throw dt("roomId argument required");if(!o){const w=t(a);s=Jt(Pi,U),i=Array.isArray(w)?w:[w],o=!0,f=setInterval(()=>s=s.filter(x=>{const L=Date.now()-x.created<Xn;return L||x.destroy(),L}),Xn*1.03)}const h=i.map(()=>Ni),S=[],y=i.map(async(w,x)=>e(await w,await b,await _,O(x),k));It([b,_]).then(([w,x])=>{const L=async(H,C)=>{const K=await n(H,w,x);typeof K=="number"&&(h[C]=K),S[C]=setTimeout(()=>L(H,C),h[C])};y.forEach(async(H,C)=>{await H,L(await i[C],C)})});let g=xt;return r[c]||(r[c]={}),r[c][u]=Ti(w=>g=w,w=>delete d[w],()=>{delete r[c][u],S.forEach(clearTimeout),y.forEach(async w=>(await w)()),clearInterval(f)})}},Li=5,Wr="x",Jr="EVENT",Xr=gn.utils.randomPrivateKey(),Ii=on(gn.getPublicKey(Xr)),mn={},bt={},De={},Qr=()=>Math.floor(Date.now()/1e3),to=t=>De[t]??(De[t]=Zr(t,1e4)+2e4),Qn=async(t,e)=>{const n={kind:to(t),content:e,pubkey:Ii,created_at:Qr(),tags:[[Wr,t]]},r=on(new Uint8Array(await crypto.subtle.digest("SHA-256",At(yt([0,n.pubkey,n.created_at,n.kind,n.tags,n.content])))));return yt([Jr,{...n,id:r,sig:on(await gn.sign(r,Xr))}])},tr=(t,e)=>(mn[t]=e,yt(["REQ",t,{kinds:[to(e)],since:Qr(),["#"+Wr]:[e]}])),er=t=>(delete mn[t],yt(["CLOSE",t])),Ui=$i({init:t=>wi(t,Oi,Li).map(e=>{const n=mi(e,r=>{var a;const[o,i,s,f]=be(r);if(o!==Jr){const u=`${Wt}: relay failure from ${n.url} - `;o==="NOTICE"?console.warn(u+i):o==="OK"&&!s&&console.warn(u+f);return}(a=bt[i])==null||a.call(bt,mn[i],s.content)});return n.ready}),subscribe:(t,e,n,r)=>{const o=rn(64),i=rn(64);return bt[o]=bt[i]=(s,f)=>r(s,f,async(a,u)=>t.send(await Qn(a,u))),t.send(tr(o,e)),t.send(tr(i,n)),()=>{t.send(er(o)),t.send(er(i)),delete bt[o],delete bt[i]}},announce:async(t,e)=>t.send(await Qn(e,yt({peerId:Lt})))}),Oi=["eu.purplerelay.com","ftp.halifax.rwth-aachen.de/nostr","multiplexer.huszonegy.world","nostr.cool110.xyz","nostr.data.haus","nostr.grooveix.com","nostr.huszonegy.world","nostr.mom","nostr.sathoarder.com","nostr.vulpem.com","relay.fountain.fm","relay.nostraddress.com","relay.nostromo.social","relay.snort.social","relay.verified-nostr.com","yabu.me/v2"].map(t=>"wss://"+t);function Hi({id:t,data:e,handleClick:n}){return W("div",{class:"tile "+e,id:t,onClick:n})}const Ci=[0,1,2],qi=[0,1,2,3,4,5,6,7,8];function Mi({tiledata:t,onPlace:e}){const n=r=>e(r.target.getAttribute("id"));return W("div",{id:"board",children:Ci.map(r=>W("div",{class:"plane",children:qi.map(o=>{const i=r*9+o;return W(Hi,{id:i,data:t[i],handleClick:n})})}))})}function Ri({children:t}){return W("div",{id:"bg",children:W("div",{children:t})})}function Di({link:t}){return W(Ri,{children:W("div",{class:"roomDialog",children:[W("p",{children:"Send the link below to your opponent to begin playing!"}),W("input",{type:"text",value:t,disabled:!0}),W("button",{id:"share-link-copy",children:"Copy link"}),W("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:"Click to open!"})]})})}const ji=[117440512,14680064,1835008,229376,28672,3584,448,56,7,73,146,292,37376,74752,149504,19136512,38273024,76546048,273,139776,71565312,84,43008,22020096,262657,525314,1050628,2101256,4202512,8405024,16810048,33620096,67240192,1049601,8396808,67174464,263172,2105376,16843008,16781313,33562626,67125252,266304,532608,1065216,67117057,16785412,270592,1056832];function nr(t,e){const n=parseInt(t.map(r=>r==e?"1":"0").join(""),2);return ji.reduce((r,o)=>r+ +((n&o)==o),0)}function zi({tiledata:t}){const e=Ke(()=>({x:nr(t.value,"x"),o:nr(t.value,"o")}));return W("div",{id:"scoreDisplay",children:[W("div",{children:e.value.x}),W("div",{children:e.value.o})]})}const xe=Ae(Array(27).fill(" ")),eo=Ae(1);function Fi(){return window.location.hash.slice(1)||crypto.randomUUID()}const no=Fi(),Vi={appId:"lunderot-tictactoe"},ro=Ui(Vi,no),[Zi,Ki]=ro.makeAction("place");Ki((t,e)=>{console.log(`Peer sent ${t}`),oo(t,"o")});ro.onPeerJoin(()=>{console.log("Peer joined"),eo.value=0});const oo=(t,e="x")=>{const n=[...xe.value];n[parseInt(t)]=e,xe.value=n,e=="x"&&Zi(t)};function Gi(){return W(Xt,{children:[W(Mi,{tiledata:xe.value,onPlace:oo}),W(zi,{tiledata:xe}),eo.value&&W(Di,{link:`${window.location.origin+window.location.pathname}#${no}`})]})}lo(W(Gi,{}),document.getElementById("app"));
